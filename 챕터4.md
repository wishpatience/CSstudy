# CPU의 작동원리
----
### ALU와 제어장치

1. ALU

* ALU는 계산하는 부품, ALU는 레지스터를 통해 피연산자를 받아들이고 제어장치로부터 수행할 연산을 알려주는 제어 신호를 받아들임

* CPU가 메모리에 접근하는 속도는 레지스터에 접근하는 속도보다 훨씬 느리기 때문에 연산 할때마다 결과를 메모리에 저장하면 CPU는 메모리에 자주 접근하게 되고 이는 CPU의 프로그램 실행 속도를 늦춤 그래서 연산후 결과값을 일시적으로 레지스터에 저장
그리고 계산 결과와 플래그를 내보냄

2. 제어장치

* 제어장치는 클럭 신호를 받아들임, 클럭의 주기에 맞춰 데이터를 이동하거나 연산을 수행하거나 명령어를 읽어들임

* 제어장치는 해석해야 할 명령어를 받아들임 CPU가 해석할 명령어는 명령어 레지스터라는 특별한 레지스터에 저장됨

* 제어장치는 플래그 레지스터 속 플래그 값을 받아들임

* 제어장치는 시스템 버스, 그중에서 제어 버스로 전달된 제어 신호를 받아들임

### 레지스터 

* 레지스터는 종류가 다양하지만 주요 8개 레지스터만 다루기로 함


 1. 프로그램 카운터 : 메모리에서 가져올 명령어의 주소, 즉 메모리에서 읽어 들일 명령어의 주소를 저장

 2. 명령어 레지스터 : 해석할 명령어 방금 메모리에서 읽어 들인 명령어를 저장

 3. 메모리 주소 레지스터 : 메모리 주소를 저장

 4. 메모리 버퍼 레지스터 :  메모리와 주고 받을 값을 저장

 5. 플래그 레지스터 : 플래그 값을 저장

 6. 범용 레지스터 : 다양하고 일반적인 상황에서 자유롭게 사용할 수 있는 레지스터 데이터, 주소 모두 저장 가능

 7. 스택 포인터 : 주소 지정에 사용될 수 있는 특별한 레지스터

 8. 베이스 레지스터 : 주소 지정에 사용될 수 있는 특별한 레지스터

 * 상대 주소 지정 방식 : 오퍼랜드와 프로그램 카운터의 값을 더하여 유효 주소를 얻는 방식

 * 베이스 레지스터 주소 지정 방식 : 오퍼랜드와 베이스 레지스터의 값을 더하여 유효 주소를 얻는 방식


### 명령어 사이클과 인터럽트

* CPU는 일정 주기마다 명령어를 수행하는 이 주기를 명령어 사이클이라고 함, 메모리에 있는 명령어를 CPU로 가지고 오는것을 인출 사이클이라고 하고 실행하는 단계를 실행 사이클이라고 함

* 인터럽트 

CPU를 잠시 중단시키고 처리해야할 작업이 있는 경우

1. 동기 인터럽트 : 프로그래밍상의 오류와 같은 예외적인 상황에 마주쳤을 때 발생하는 인터럽트, 예외라고 부름

2. 비동기 인터럽트 : 주로 입출력 장치에 의해 발생


